@page "/auth-client"
@rendermode @(new InteractiveWebAssemblyRenderMode(false))

@using System.Text.Json

<PageTitle>Auth Client Side</PageTitle>

<RouteAuthorize />

<h3>Interactive WebAssembly (prerendering off)</h3>

<AuthorizeView>
    <NotAuthorized>
        <h1>You are not authenticated</h1>
    </NotAuthorized>
    <Authorized>
        <h1>You are authenticated</h1>
        <pre>
            @JsonSerializer.Serialize(@context.User.Claims.Select(x => new { x.Type, x.Value, x.Issuer, x.Subject?.Name, x.ValueType }), new JsonSerializerOptions { WriteIndented = true })
        </pre>
    </Authorized>
</AuthorizeView>
